<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Write your documentation in Markdown and create a professional static site in minutes â€“ searchable, customizable, in 60+ languages, for all devices"><meta name=author content=funstory.ai><link href=https://squidfunk.github.io/mkdocs-material/ rel=canonical><link href=ImplementationDetails/AsyncTranslate/AsyncTranslate/ rel=next><link rel=icon href=images/babeldoc-small-logo-with-transparent-background.svg><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.11"><title>BabelDOC</title><link rel=stylesheet href=assets/stylesheets/main.4af4bdda.min.css><link rel=stylesheet href=assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#preview class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=. title=BabelDOC class="md-header__button md-logo" aria-label=BabelDOC data-md-component=logo> <img src=images/babeldoc-small-logo-with-transparent-background.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> BabelDOC </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Home </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=indigo aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/funstory-ai/BabelDOC title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> funstory-ai/BabelDOC </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class="md-tabs__item md-tabs__item--active"> <a href=. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=ImplementationDetails/AsyncTranslate/AsyncTranslate/ class=md-tabs__link> API </a> </li> <li class=md-tabs__item> <a href=ImplementationDetails/ class=md-tabs__link> Implementation Details </a> </li> <li class=md-tabs__item> <a href=CODE_OF_CONDUCT/ class=md-tabs__link> Community </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=. title=BabelDOC class="md-nav__button md-logo" aria-label=BabelDOC data-md-component=logo> <img src=images/babeldoc-small-logo-with-transparent-background.svg alt=logo> </a> BabelDOC </label> <div class=md-nav__source> <a href=https://github.com/funstory-ai/BabelDOC title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> funstory-ai/BabelDOC </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Home </span> <span class="md-nav__icon md-icon"></span> </label> <a href=. class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Home </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#preview class=md-nav__link> <span class=md-ellipsis> Preview </span> </a> </li> <li class=md-nav__item> <a href=#we-are-hiring class=md-nav__link> <span class=md-ellipsis> We are hiring </span> </a> </li> <li class=md-nav__item> <a href=#getting-started class=md-nav__link> <span class=md-ellipsis> Getting Started </span> </a> <nav class=md-nav aria-label="Getting Started"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#install-from-pypi class=md-nav__link> <span class=md-ellipsis> Install from PyPI </span> </a> </li> <li class=md-nav__item> <a href=#install-from-source class=md-nav__link> <span class=md-ellipsis> Install from Source </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#advanced-options class=md-nav__link> <span class=md-ellipsis> Advanced Options </span> </a> <nav class=md-nav aria-label="Advanced Options"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#language-options class=md-nav__link> <span class=md-ellipsis> Language Options </span> </a> </li> <li class=md-nav__item> <a href=#pdf-processing-options class=md-nav__link> <span class=md-ellipsis> PDF Processing Options </span> </a> </li> <li class=md-nav__item> <a href=#translation-service-options class=md-nav__link> <span class=md-ellipsis> Translation Service Options </span> </a> </li> <li class=md-nav__item> <a href=#openai-specific-options class=md-nav__link> <span class=md-ellipsis> OpenAI Specific Options </span> </a> </li> <li class=md-nav__item> <a href=#output-control class=md-nav__link> <span class=md-ellipsis> Output Control </span> </a> </li> <li class=md-nav__item> <a href=#offline-assets-management class=md-nav__link> <span class=md-ellipsis> Offline Assets Management </span> </a> </li> <li class=md-nav__item> <a href=#configuration-file class=md-nav__link> <span class=md-ellipsis> Configuration File </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#python-api class=md-nav__link> <span class=md-ellipsis> Python API </span> </a> </li> <li class=md-nav__item> <a href=#background class=md-nav__link> <span class=md-ellipsis> Background </span> </a> </li> <li class=md-nav__item> <a href=#roadmap class=md-nav__link> <span class=md-ellipsis> Roadmap </span> </a> </li> <li class=md-nav__item> <a href=#known-issues class=md-nav__link> <span class=md-ellipsis> Known Issues </span> </a> </li> <li class=md-nav__item> <a href=#how-to-contribute class=md-nav__link> <span class=md-ellipsis> How to Contribute </span> </a> </li> <li class=md-nav__item> <a href=#acknowledgements class=md-nav__link> <span class=md-ellipsis> Acknowledgements </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> API </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> API </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=ImplementationDetails/AsyncTranslate/AsyncTranslate/ class=md-nav__link> <span class=md-ellipsis> Async Translation API </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <div class="md-nav__link md-nav__container"> <a href=ImplementationDetails/ class="md-nav__link "> <span class=md-ellipsis> Implementation Details </span> </a> <label class="md-nav__link " for=__nav_3 id=__nav_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Implementation Details </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=ImplementationDetails/PDFParsing/PDFParsing/ class=md-nav__link> <span class=md-ellipsis> PDF Parsing </span> </a> </li> <li class=md-nav__item> <a href=https://github.com/funstory-ai/BabelDOC/blob/main/babeldoc/document_il/midend/layout_parser.py class=md-nav__link> <span class=md-ellipsis> Layout Parser(.py) </span> </a> </li> <li class=md-nav__item> <a href=ImplementationDetails/ParagraphFinding/ParagraphFinding/ class=md-nav__link> <span class=md-ellipsis> Paragraph Finding </span> </a> </li> <li class=md-nav__item> <a href=ImplementationDetails/StylesAndFormulas/StylesAndFormulas/ class=md-nav__link> <span class=md-ellipsis> Styles and Formulas </span> </a> </li> <li class=md-nav__item> <a href=ImplementationDetails/ILTranslator/ILTranslator/ class=md-nav__link> <span class=md-ellipsis> IL Translator </span> </a> </li> <li class=md-nav__item> <a href=ImplementationDetails/Typesetting/Typesetting/ class=md-nav__link> <span class=md-ellipsis> Typesetting </span> </a> </li> <li class=md-nav__item> <a href=https://github.com/funstory-ai/BabelDOC/blob/main/babeldoc/document_il/utils/fontmap.py class=md-nav__link> <span class=md-ellipsis> Font Mapper(.py) </span> </a> </li> <li class=md-nav__item> <a href=ImplementationDetails/PDFCreation/PDFCreation/ class=md-nav__link> <span class=md-ellipsis> PDF Creation </span> </a> </li> <li class=md-nav__item> <a href=intro-to-pdf-object/ class=md-nav__link> <span class=md-ellipsis> Intro To PDF Object </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Community </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Community </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=CODE_OF_CONDUCT/ class=md-nav__link> <span class=md-ellipsis> Code of Conduct </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2 id=__nav_4_2_label tabindex=0> <span class=md-ellipsis> Contributing </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Contributing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=CONTRIBUTING/ class=md-nav__link> <span class=md-ellipsis> Contributing </span> </a> </li> <li class=md-nav__item> <a href=CONTRIBUTOR_REWARD/ class=md-nav__link> <span class=md-ellipsis> Contributor Reward </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#preview class=md-nav__link> <span class=md-ellipsis> Preview </span> </a> </li> <li class=md-nav__item> <a href=#we-are-hiring class=md-nav__link> <span class=md-ellipsis> We are hiring </span> </a> </li> <li class=md-nav__item> <a href=#getting-started class=md-nav__link> <span class=md-ellipsis> Getting Started </span> </a> <nav class=md-nav aria-label="Getting Started"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#install-from-pypi class=md-nav__link> <span class=md-ellipsis> Install from PyPI </span> </a> </li> <li class=md-nav__item> <a href=#install-from-source class=md-nav__link> <span class=md-ellipsis> Install from Source </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#advanced-options class=md-nav__link> <span class=md-ellipsis> Advanced Options </span> </a> <nav class=md-nav aria-label="Advanced Options"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#language-options class=md-nav__link> <span class=md-ellipsis> Language Options </span> </a> </li> <li class=md-nav__item> <a href=#pdf-processing-options class=md-nav__link> <span class=md-ellipsis> PDF Processing Options </span> </a> </li> <li class=md-nav__item> <a href=#translation-service-options class=md-nav__link> <span class=md-ellipsis> Translation Service Options </span> </a> </li> <li class=md-nav__item> <a href=#openai-specific-options class=md-nav__link> <span class=md-ellipsis> OpenAI Specific Options </span> </a> </li> <li class=md-nav__item> <a href=#output-control class=md-nav__link> <span class=md-ellipsis> Output Control </span> </a> </li> <li class=md-nav__item> <a href=#offline-assets-management class=md-nav__link> <span class=md-ellipsis> Offline Assets Management </span> </a> </li> <li class=md-nav__item> <a href=#configuration-file class=md-nav__link> <span class=md-ellipsis> Configuration File </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#python-api class=md-nav__link> <span class=md-ellipsis> Python API </span> </a> </li> <li class=md-nav__item> <a href=#background class=md-nav__link> <span class=md-ellipsis> Background </span> </a> </li> <li class=md-nav__item> <a href=#roadmap class=md-nav__link> <span class=md-ellipsis> Roadmap </span> </a> </li> <li class=md-nav__item> <a href=#known-issues class=md-nav__link> <span class=md-ellipsis> Known Issues </span> </a> </li> <li class=md-nav__item> <a href=#how-to-contribute class=md-nav__link> <span class=md-ellipsis> How to Contribute </span> </a> </li> <li class=md-nav__item> <a href=#acknowledgements class=md-nav__link> <span class=md-ellipsis> Acknowledgements </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/funstory-ai/BabelDOC/edit/main/docs/index.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg> </a> <a href=https://github.com/funstory-ai/BabelDOC/raw/main/docs/index.md title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg> </a> <h1>Home</h1> <!-- # Yet Another Document Translator --> <div align=center> <!-- <img src="https://s.immersivetranslate.com/assets/r2-uploads/images/babeldoc-banner.png" width="320px"  alt="YADT"/> --> <br> <picture> <source media="(prefers-color-scheme: dark)" srcset=https://s.immersivetranslate.com/assets/uploads/babeldoc-big-logo-darkmode-with-transparent-background-IKuNO1.svg width=320px alt=BabelDOC> <img src=https://s.immersivetranslate.com/assets/uploads/babeldoc-big-logo-with-transparent-background-2xweBr.svg width=320px alt=BabelDOC> </picture> <!-- <h2 id="title">BabelDOC</h2> --> <p> <!-- PyPI --> <a href=https://pypi.org/project/BabelDOC/ > <img src=https://img.shields.io/pypi/v/BabelDOC></a> <a href=https://pepy.tech/projects/BabelDOC> <img src=https://static.pepy.tech/badge/BabelDOC></a> <!-- <a href="https://github.com/funstory-ai/BabelDOC/pulls">
    <img src="https://img.shields.io/badge/contributions-welcome-green"></a> --> <!-- License --> <a href=./LICENSE> <img src=https://img.shields.io/github/license/funstory-ai/BabelDOC></a> <a href=https://t.me/+Z9_SgnxmsmA5NzBl> <img src="https://img.shields.io/badge/Telegram-2CA5E0?style=flat-squeare&logo=telegram&logoColor=white"></a> </p> <a href=https://trendshift.io/repositories/13358 target=_blank><img src=https://trendshift.io/api/badge/repositories/13358 alt="funstory-ai%2FBabelDOC | Trendshift" style="width: 250px; height: 55px;" width=250 height=55></a> </div> <p>PDF scientific paper translation and bilingual comparison library.</p> <ul> <li><strong>Online Service</strong>: Beta version launched <a href=https://app.immersivetranslate.com/babel-doc/ >Immersive Translate - BabelDOC</a> 1000 free pages per month.</li> <li><strong>Self-deployment</strong>: <a href=https://github.com/Byaidu/PDFMathTranslate>PDFMathTranslate</a> 1.9.3+ Experimental support for BabelDOC, available for self-deployment + WebUI with more translation services.</li> <li>Provides a simple <a href=#getting-started>command line interface</a>.</li> <li>Provides a <a href=#python-api>Python API</a>.</li> <li>Mainly designed to be embedded into other programs, but can also be used directly for simple translation tasks.</li> </ul> <h2 id=preview>Preview</h2> <div align=center> <img src=https://s.immersivetranslate.com/assets/r2-uploads/images/babeldoc-preview.png width=80%> </div> <h2 id=we-are-hiring>We are hiring</h2> <p>See details: <a href=https://github.com/funstory-ai/jobs>EN</a> | <a href=https://github.com/funstory-ai/jobs/blob/main/README_ZH.md>ZH</a></p> <h2 id=getting-started>Getting Started</h2> <h3 id=install-from-pypi>Install from PyPI</h3> <p>We recommend using the Tool feature of <a href=https://github.com/astral-sh/uv>uv</a> to install yadt.</p> <ol> <li> <p>First, you need to refer to <a href=https://github.com/astral-sh/uv#installation>uv installation</a> to install uv and set up the <code>PATH</code> environment variable as prompted.</p> </li> <li> <p>Use the following command to install yadt:</p> </li> </ol> <div class="language-bash highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>uv<span class=w> </span>tool<span class=w> </span>install<span class=w> </span>--python<span class=w> </span><span class=m>3</span>.12<span class=w> </span>BabelDOC
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>babeldoc<span class=w> </span>--help
</span></code></pre></div> <ol> <li>Use the <code>babeldoc</code> command. For example:</li> </ol> <div class="language-bash highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a>babeldoc<span class=w> </span>--bing<span class=w>  </span>--files<span class=w> </span>example.pdf
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=c1># multiple files</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>babeldoc<span class=w> </span>--bing<span class=w>  </span>--files<span class=w> </span>example1.pdf<span class=w> </span>--files<span class=w> </span>example2.pdf
</span></code></pre></div> <h3 id=install-from-source>Install from Source</h3> <p>We still recommend using <a href=https://github.com/astral-sh/uv>uv</a> to manage virtual environments.</p> <ol> <li> <p>First, you need to refer to <a href=https://github.com/astral-sh/uv#installation>uv installation</a> to install uv and set up the <code>PATH</code> environment variable as prompted.</p> </li> <li> <p>Use the following command to install yadt:</p> </li> </ol> <div class="language-bash highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=c1># clone the project</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>git<span class=w> </span>clone<span class=w> </span>https://github.com/funstory-ai/BabelDOC
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=c1># enter the project directory</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=nb>cd</span><span class=w> </span>BabelDOC
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a><span class=c1># install dependencies and run babeldoc</span>
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a>uv<span class=w> </span>run<span class=w> </span>babeldoc<span class=w> </span>--help
</span></code></pre></div> <ol> <li>Use the <code>uv run babeldoc</code> command. For example:</li> </ol> <div class="language-bash highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a>uv<span class=w> </span>run<span class=w> </span>babeldoc<span class=w> </span>--files<span class=w> </span>example.pdf<span class=w> </span>--openai<span class=w> </span>--openai-model<span class=w> </span><span class=s2>&quot;gpt-4o-mini&quot;</span><span class=w> </span>--openai-base-url<span class=w> </span><span class=s2>&quot;https://api.openai.com/v1&quot;</span><span class=w> </span>--openai-api-key<span class=w> </span><span class=s2>&quot;your-api-key-here&quot;</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=c1># multiple files</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>uv<span class=w> </span>run<span class=w> </span>babeldoc<span class=w> </span>--files<span class=w> </span>example.pdf<span class=w> </span>--files<span class=w> </span>example2.pdf<span class=w> </span>--openai<span class=w> </span>--openai-model<span class=w> </span><span class=s2>&quot;gpt-4o-mini&quot;</span><span class=w> </span>--openai-base-url<span class=w> </span><span class=s2>&quot;https://api.openai.com/v1&quot;</span><span class=w> </span>--openai-api-key<span class=w> </span><span class=s2>&quot;your-api-key-here&quot;</span>
</span></code></pre></div> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>The absolute path is recommended.</p> </div> <h2 id=advanced-options>Advanced Options</h2> <div class="admonition note"> <p class=admonition-title>Note</p> <p>This CLI is mainly for debugging purposes. Although end users can use this CLI to translate files, we do not provide any technical support for this purpose.</p> <p>End users should directly use <strong>Online Service</strong>: Beta version launched <a href=https://app.immersivetranslate.com/babel-doc/ >Immersive Translate - BabelDOC</a> 1000 free pages per month.</p> <p>End users who need self-deployment should use <a href=https://github.com/Byaidu/PDFMathTranslate>PDFMathTranslate</a></p> <p>If you find that an option is not listed below, it means that this option is a debugging option for maintainers. Please do not use these options.</p> </div> <h3 id=language-options>Language Options</h3> <ul> <li><code>--lang-in</code>, <code>-li</code>: Source language code (default: en)</li> <li><code>--lang-out</code>, <code>-lo</code>: Target language code (default: zh)</li> </ul> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>Currently, this project mainly focuses on English-to-Chinese translation, and other scenarios have not been tested yet.</p> <p>(2025.3.1 update): Basic English target language support has been added, primarily to minimize line breaks within words([0-9A-Za-z]+).</p> <p><a href=https://github.com/funstory-ai/BabelDOC/issues/129>HELP WANTED: Collecting word regular expressions for more languages</a></p> </div> <h3 id=pdf-processing-options>PDF Processing Options</h3> <ul> <li><code>--files</code>: One or more file paths to input PDF documents.</li> <li><code>--pages</code>, <code>-p</code>: Specify pages to translate (e.g., "1,2,1-,-3,3-5"). If not set, translate all pages</li> <li><code>--split-short-lines</code>: Force split short lines into different paragraphs (may cause poor typesetting &amp; bugs)</li> <li><code>--short-line-split-factor</code>: Split threshold factor (default: 0.8). The actual threshold is the median length of all lines on the current page * this factor</li> <li><code>--skip-clean</code>: Skip PDF cleaning step</li> <li><code>--dual-translate-first</code>: Put translated pages first in dual PDF mode (default: original pages first)</li> <li><code>--disable-rich-text-translate</code>: Disable rich text translation (may help improve compatibility with some PDFs)</li> <li><code>--enhance-compatibility</code>: Enable all compatibility enhancement options (equivalent to --skip-clean --dual-translate-first --disable-rich-text-translate)</li> <li><code>--use-alternating-pages-dual</code>: Use alternating pages mode for dual PDF. When enabled, original and translated pages are arranged in alternate order. When disabled (default), original and translated pages are shown side by side on the same page.</li> <li><code>--watermark-output-mode</code>: Control watermark output mode: 'watermarked' (default) adds watermark to translated PDF, 'no_watermark' doesn't add watermark, 'both' outputs both versions.</li> <li><code>--max-pages-per-part</code>: Maximum number of pages per part for split translation. If not set, no splitting will be performed.</li> <li><code>--no-watermark</code>: [DEPRECATED] Use --watermark-output-mode=no_watermark instead.</li> <li><code>--translate-table-text</code>: Translate table text (experimental, default: False)</li> <li><code>--skip-scanned-detection</code>: Skip scanned document detection (default: False). When using split translation, only the first part performs detection if not skipped.</li> </ul> <div class="admonition tip"> <p class=admonition-title>Tip</p> <ul> <li>Both <code>--skip-clean</code> and <code>--dual-translate-first</code> may help improve compatibility with some PDF readers</li> <li><code>--disable-rich-text-translate</code> can also help with compatibility by simplifying translation input</li> <li>However, using <code>--skip-clean</code> will result in larger file sizes</li> <li>If you encounter any compatibility issues, try using <code>--enhance-compatibility</code> first</li> <li>Use <code>--max-pages-per-part</code> for large documents to split them into smaller parts for translation and automatically merge them back.</li> <li>Use <code>--skip-scanned-detection</code> to speed up processing when you know your document is not a scanned PDF.</li> </ul> </div> <h3 id=translation-service-options>Translation Service Options</h3> <ul> <li><code>--qps</code>: QPS (Queries Per Second) limit for translation service (default: 4)</li> <li><code>--ignore-cache</code>: Ignore translation cache and force retranslation</li> <li><code>--no-dual</code>: Do not output bilingual PDF files</li> <li><code>--no-mono</code>: Do not output monolingual PDF files</li> <li><code>--min-text-length</code>: Minimum text length to translate (default: 5)</li> <li><code>--openai</code>: Use OpenAI for translation (default: False)</li> </ul> <div class="admonition tip"> <p class=admonition-title>Tip</p> <ol> <li>Currently, only OpenAI-compatible LLM is supported. For more translator support, please use <a href=https://github.com/Byaidu/PDFMathTranslate>PDFMathTranslate</a>.</li> <li>It is recommended to use models with strong compatibility with OpenAI, such as: <code>glm-4-flash</code>, <code>deepseek-chat</code>, etc.</li> <li>Currently, it has not been optimized for traditional translation engines like Bing/Google, it is recommended to use LLMs.</li> <li>You can use <a href=https://github.com/BerriAI/litellm>litellm</a> to access multiple models.</li> </ol> </div> <h3 id=openai-specific-options>OpenAI Specific Options</h3> <ul> <li><code>--openai-model</code>: OpenAI model to use (default: gpt-4o-mini)</li> <li><code>--openai-base-url</code>: Base URL for OpenAI API</li> <li><code>--openai-api-key</code>: API key for OpenAI service</li> </ul> <div class="admonition tip"> <p class=admonition-title>Tip</p> <ol> <li>This tool supports any OpenAI-compatible API endpoints. Just set the correct base URL and API key. (e.g. <code>https://xxx.custom.xxx/v1</code>)</li> <li>For local models like Ollama, you can use any value as the API key (e.g. <code>--openai-api-key a</code>).</li> </ol> </div> <h3 id=output-control>Output Control</h3> <ul> <li><code>--output</code>, <code>-o</code>: Output directory for translated files. If not set, use current working directory.</li> <li><code>--debug</code>, <code>-d</code>: Enable debug logging level and export detailed intermediate results in <code>~/.cache/yadt/working</code>.</li> <li><code>--report-interval</code>: Progress report interval in seconds (default: 0.1).</li> </ul> <h3 id=offline-assets-management>Offline Assets Management</h3> <ul> <li><code>--generate-offline-assets</code>: Generate an offline assets package in the specified directory. This creates a zip file containing all required models and fonts.</li> <li><code>--restore-offline-assets</code>: Restore an offline assets package from the specified file. This extracts models and fonts from a previously generated package.</li> </ul> <div class="admonition tip"> <p class=admonition-title>Tip</p> <ol> <li>Offline assets packages are useful for environments without internet access or to speed up installation on multiple machines.</li> <li>Generate a package once with <code>babeldoc --generate-offline-assets /path/to/output/dir</code> and then distribute it.</li> <li>Restore the package on target machines with <code>babeldoc --restore-offline-assets /path/to/offline_assets_*.zip</code>.</li> <li>The offline assets package name cannot be modified because the file list hash is encoded in the name.</li> <li>If you provide a directory path to <code>--restore-offline-assets</code>, the tool will automatically look for the correct offline assets package file in that directory.</li> <li>The package contains all necessary fonts and models required for document processing, ensuring consistent results across different environments.</li> <li>The integrity of all assets is verified using SHA3-256 hashes during both packaging and restoration.</li> <li>If you're deploying in an air-gapped environment, make sure to generate the package on a machine with internet access first.</li> </ol> </div> <h3 id=configuration-file>Configuration File</h3> <ul> <li><code>--config</code>, <code>-c</code>: Configuration file path. Use the TOML format.</li> </ul> <p>Example Configuration:</p> <div class="language-toml highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=k>[babeldoc]</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=c1># Basic settings</span>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=n>debug</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>true</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=n>lang-in</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;en-US&quot;</span>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a><span class=n>lang-out</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;zh-CN&quot;</span>
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a><span class=n>qps</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>10</span>
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a><span class=n>output</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;/path/to/output/dir&quot;</span>
</span><span id=__span-4-8><a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a>
</span><span id=__span-4-9><a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a><span class=c1># PDF processing options</span>
</span><span id=__span-4-10><a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a><span class=n>split-short-lines</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>false</span>
</span><span id=__span-4-11><a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a><span class=n>short-line-split-factor</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0.8</span>
</span><span id=__span-4-12><a id=__codelineno-4-12 name=__codelineno-4-12 href=#__codelineno-4-12></a><span class=n>skip-clean</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>false</span>
</span><span id=__span-4-13><a id=__codelineno-4-13 name=__codelineno-4-13 href=#__codelineno-4-13></a><span class=n>dual-translate-first</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>false</span>
</span><span id=__span-4-14><a id=__codelineno-4-14 name=__codelineno-4-14 href=#__codelineno-4-14></a><span class=n>disable-rich-text-translate</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>false</span>
</span><span id=__span-4-15><a id=__codelineno-4-15 name=__codelineno-4-15 href=#__codelineno-4-15></a><span class=n>use-alternating-pages-dual</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>false</span>
</span><span id=__span-4-16><a id=__codelineno-4-16 name=__codelineno-4-16 href=#__codelineno-4-16></a><span class=n>watermark-output-mode</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;watermarked&quot;</span><span class=w>  </span><span class=c1># Choices: &quot;watermarked&quot;, &quot;no_watermark&quot;, &quot;both&quot;</span>
</span><span id=__span-4-17><a id=__codelineno-4-17 name=__codelineno-4-17 href=#__codelineno-4-17></a><span class=n>max-pages-per-part</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>50</span><span class=w>  </span><span class=c1># Automatically split the document for translation and merge it back.</span>
</span><span id=__span-4-18><a id=__codelineno-4-18 name=__codelineno-4-18 href=#__codelineno-4-18></a><span class=c1># no-watermark = false  # DEPRECATED: Use watermark-output-mode instead</span>
</span><span id=__span-4-19><a id=__codelineno-4-19 name=__codelineno-4-19 href=#__codelineno-4-19></a><span class=n>skip-scanned-detection</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>false</span><span class=w>  </span><span class=c1># Skip scanned document detection for faster processing</span>
</span><span id=__span-4-20><a id=__codelineno-4-20 name=__codelineno-4-20 href=#__codelineno-4-20></a>
</span><span id=__span-4-21><a id=__codelineno-4-21 name=__codelineno-4-21 href=#__codelineno-4-21></a><span class=c1># Translation service</span>
</span><span id=__span-4-22><a id=__codelineno-4-22 name=__codelineno-4-22 href=#__codelineno-4-22></a><span class=n>openai</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>true</span>
</span><span id=__span-4-23><a id=__codelineno-4-23 name=__codelineno-4-23 href=#__codelineno-4-23></a><span class=n>openai-model</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;gpt-4o-mini&quot;</span>
</span><span id=__span-4-24><a id=__codelineno-4-24 name=__codelineno-4-24 href=#__codelineno-4-24></a><span class=n>openai-base-url</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;https://api.openai.com/v1&quot;</span>
</span><span id=__span-4-25><a id=__codelineno-4-25 name=__codelineno-4-25 href=#__codelineno-4-25></a><span class=n>openai-api-key</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;your-api-key-here&quot;</span>
</span><span id=__span-4-26><a id=__codelineno-4-26 name=__codelineno-4-26 href=#__codelineno-4-26></a>
</span><span id=__span-4-27><a id=__codelineno-4-27 name=__codelineno-4-27 href=#__codelineno-4-27></a><span class=c1># Output control</span>
</span><span id=__span-4-28><a id=__codelineno-4-28 name=__codelineno-4-28 href=#__codelineno-4-28></a><span class=n>no-dual</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>false</span>
</span><span id=__span-4-29><a id=__codelineno-4-29 name=__codelineno-4-29 href=#__codelineno-4-29></a><span class=n>no-mono</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>false</span>
</span><span id=__span-4-30><a id=__codelineno-4-30 name=__codelineno-4-30 href=#__codelineno-4-30></a><span class=n>min-text-length</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>5</span>
</span><span id=__span-4-31><a id=__codelineno-4-31 name=__codelineno-4-31 href=#__codelineno-4-31></a><span class=n>report-interval</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0.5</span>
</span><span id=__span-4-32><a id=__codelineno-4-32 name=__codelineno-4-32 href=#__codelineno-4-32></a>
</span><span id=__span-4-33><a id=__codelineno-4-33 name=__codelineno-4-33 href=#__codelineno-4-33></a><span class=c1># Offline assets management</span>
</span><span id=__span-4-34><a id=__codelineno-4-34 name=__codelineno-4-34 href=#__codelineno-4-34></a><span class=c1># Uncomment one of these options as needed:</span>
</span><span id=__span-4-35><a id=__codelineno-4-35 name=__codelineno-4-35 href=#__codelineno-4-35></a><span class=c1># generate-offline-assets = &quot;/path/to/output/dir&quot;</span>
</span><span id=__span-4-36><a id=__codelineno-4-36 name=__codelineno-4-36 href=#__codelineno-4-36></a><span class=c1># restore-offline-assets = &quot;/path/to/offline_assets_package.zip&quot;</span>
</span></code></pre></div> <h2 id=python-api>Python API</h2> <div class="admonition tip"> <p class=admonition-title>Tip</p> <ol> <li> <p>Before pdf2zh 2.0 is released, you can temporarily use BabelDOC's Python API. However, after pdf2zh 2.0 is released, please directly use pdf2zh's Python API.</p> </li> <li> <p>This project's Python API does not guarantee any compatibility. However, the Python API from pdf2zh will guarantee a certain level of compatibility.</p> </li> </ol> </div> <p>You can refer to the example in <a href=https://github.com/funstory-ai/yadt/blob/main/babeldoc/main.py>main.py</a> to use BabelDOC's Python API.</p> <p>Please note:</p> <ol> <li> <p>Make sure call <code>babeldoc.high_level.init()</code> before using the API</p> </li> <li> <p>The current <code>TranslationConfig</code> does not fully validate input parameters, so you need to ensure the validity of input parameters</p> </li> <li> <p>For offline assets management, you can use the following functions: <div class="language-python highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=c1># Generate an offline assets package</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=kn>from</span><span class=w> </span><span class=nn>pathlib</span><span class=w> </span><span class=kn>import</span> <span class=n>Path</span>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=kn>import</span><span class=w> </span><span class=nn>babeldoc.assets.assets</span>
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a>
</span><span id=__span-5-5><a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a><span class=c1># Generate package to a specific directory</span>
</span><span id=__span-5-6><a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a><span class=c1># path is optional, default is ~/.cache/babeldoc/assets/offline_assets_{hash}.zip</span>
</span><span id=__span-5-7><a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a><span class=n>babeldoc</span><span class=o>.</span><span class=n>assets</span><span class=o>.</span><span class=n>assets</span><span class=o>.</span><span class=n>generate_offline_assets_package</span><span class=p>(</span><span class=n>Path</span><span class=p>(</span><span class=s2>&quot;/path/to/output/dir&quot;</span><span class=p>))</span>
</span><span id=__span-5-8><a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a>
</span><span id=__span-5-9><a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a><span class=c1># Restore from a package file</span>
</span><span id=__span-5-10><a id=__codelineno-5-10 name=__codelineno-5-10 href=#__codelineno-5-10></a><span class=c1># path is optional, default is ~/.cache/babeldoc/assets/offline_assets_{hash}.zip</span>
</span><span id=__span-5-11><a id=__codelineno-5-11 name=__codelineno-5-11 href=#__codelineno-5-11></a><span class=n>babeldoc</span><span class=o>.</span><span class=n>assets</span><span class=o>.</span><span class=n>assets</span><span class=o>.</span><span class=n>restore_offline_assets_package</span><span class=p>(</span><span class=n>Path</span><span class=p>(</span><span class=s2>&quot;/path/to/offline_assets_package.zip&quot;</span><span class=p>))</span>
</span><span id=__span-5-12><a id=__codelineno-5-12 name=__codelineno-5-12 href=#__codelineno-5-12></a>
</span><span id=__span-5-13><a id=__codelineno-5-13 name=__codelineno-5-13 href=#__codelineno-5-13></a><span class=c1># You can also restore from a directory containing the offline assets package</span>
</span><span id=__span-5-14><a id=__codelineno-5-14 name=__codelineno-5-14 href=#__codelineno-5-14></a><span class=c1># The tool will automatically find the correct package file based on the hash</span>
</span><span id=__span-5-15><a id=__codelineno-5-15 name=__codelineno-5-15 href=#__codelineno-5-15></a><span class=n>babeldoc</span><span class=o>.</span><span class=n>assets</span><span class=o>.</span><span class=n>assets</span><span class=o>.</span><span class=n>restore_offline_assets_package</span><span class=p>(</span><span class=n>Path</span><span class=p>(</span><span class=s2>&quot;/path/to/directory&quot;</span><span class=p>))</span>
</span></code></pre></div></p> </li> </ol> <div class="admonition tip"> <p class=admonition-title>Tip</p> <ol> <li>The offline assets package name cannot be modified because the file list hash is encoded in the name.</li> <li>When using in production environments, it's recommended to pre-generate the assets package and include it with your application distribution.</li> <li>The package verification ensures that all required assets are intact and match their expected checksums.</li> </ol> </div> <h2 id=background>Background</h2> <p>There are a lot projects and teams working on to make document editing and translating easier like:</p> <ul> <li><a href=https://mathpix.com/ >mathpix</a></li> <li><a href=https://doc2x.noedgeai.com/ >Doc2X</a></li> <li><a href=https://github.com/opendatalab/MinerU>minerU</a></li> <li><a href=https://github.com/funstory-ai/yadt>PDFMathTranslate</a></li> </ul> <p>There are also some solutions to solve specific parts of the problem like:</p> <ul> <li><a href=https://github.com/microsoft/unilm/tree/master/layoutreader>layoutreader</a>: the read order of the text block in a pdf</li> <li><a href=https://github.com/surya-is/surya>Surya</a>: the structure of the pdf</li> </ul> <p>This project hopes to promote a standard pipeline and interface to solve the problem.</p> <p>In fact, there are two main stages of a PDF parser or translator:</p> <ul> <li><strong>Parsing</strong>: A stage of parsing means to get the structure of the pdf such as text blocks, images, tables, etc.</li> <li><strong>Rendering</strong>: A stage of rendering means to render the structure into a new pdf or other format.</li> </ul> <p>For a service like mathpix, it will parse the pdf into a structure may be in a XML format, and then render them using a single column reader order as <a href=https://github.com/microsoft/unilm/tree/master/layoutreader>layoutreader</a> does. The bad news is that the original structure lost.</p> <p>Some people will use Adobe PDF Parser because it will generate a Word document and it keeps the original structure. But it is somewhat expensive. And you know, a pdf or word document is not a good format for reading in mobile devices.</p> <p>We offer an intermediate representation of the results from parser and can be rendered into a new pdf or other format. The pipeline is also a plugin-based system which everybody can add their new model, ocr, renderer, etc.</p> <h2 id=roadmap>Roadmap</h2> <ul class=task-list> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Add line support</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Add table support</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Add cross-page/cross-column paragraph support</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> More advanced typesetting features</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Outline support</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> ...</li> </ul> <p>Our first 1.0 version goal is to finish a translation from <a href=https://opensource.adobe.com/dc-acrobat-sdk-docs/pdfstandards/pdfreference1.7old.pdf>PDF Reference, Version 1.7</a> to the following language version:</p> <ul> <li>Simplified Chinese</li> <li>Traditional Chinese</li> <li>Japanese</li> <li>Spanish</li> </ul> <p>And meet the following requirements:</p> <ul> <li>layout error less than 1%</li> <li>content loss less than 1%</li> </ul> <h2 id=known-issues>Known Issues</h2> <ol> <li>Parsing errors in the author and reference sections; they get merged into one paragraph after translation.</li> <li>Lines are not supported.</li> <li>Does not support drop caps.</li> <li>Large pages will be skipped.</li> </ol> <h2 id=how-to-contribute>How to Contribute</h2> <p>We encourage you to contribute to YADT! Please check out the <a href=https://github.com/funstory-ai/yadt/blob/main/docs/CONTRIBUTING.md>CONTRIBUTING</a> guide.</p> <p>Everyone interacting in YADT and its sub-projects' codebases, issue trackers, chat rooms, and mailing lists is expected to follow the YADT <a href=https://github.com/funstory-ai/yadt/blob/main/docs/CODE_OF_CONDUCT.md>Code of Conduct</a>.</p> <p><a href=https://immersivetranslate.com>Immersive Translation</a> sponsors monthly Pro membership redemption codes for active contributors to this project, see details at: <a href=https://github.com/funstory-ai/BabelDOC/blob/main/docs/CONTRIBUTOR_REWARD.md>CONTRIBUTOR_REWARD.md</a></p> <h2 id=acknowledgements>Acknowledgements</h2> <ul> <li><a href=https://github.com/Byaidu/PDFMathTranslate>PDFMathTranslate</a></li> <li><a href=https://github.com/opendatalab/DocLayout-YOLO>DocLayout-YOLO</a></li> <li><a href=https://github.com/pdfminer/pdfminer.six>pdfminer</a></li> <li><a href=https://github.com/pymupdf/PyMuPDF>PyMuPDF</a></li> <li><a href="https://github.com/multimeric/Asynchronize/tree/master?tab=readme-ov-file">Asynchronize</a></li> <li><a href=https://github.com/oleglpts/PriorityThreadPoolExecutor>PriorityThreadPoolExecutor</a></li> </ul> <h2 id=star_hist>Star History</h2> <p><a href=https://star-history.com/#funstory-ai/babeldoc&amp;Date> <picture> <source media="(prefers-color-scheme: dark)" srcset="https://api.star-history.com/svg?repos=funstory-ai/babeldoc&type=Date&theme=dark"> <source media="(prefers-color-scheme: light)" srcset="https://api.star-history.com/svg?repos=funstory-ai/babeldoc&type=Date"> <img alt="Star History Chart" src="https://api.star-history.com/svg?repos=funstory-ai/babeldoc&type=Date"> </picture> </a></p> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="February 19, 2025 07:12:34">February 19, 2025</span> </span> <span class=md-source-file__fact> <span class=md-icon title=Created> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="February 19, 2025 03:23:13">February 19, 2025</span> </span> <span class=md-source-file__fact> <span class=md-icon title=Contributors> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 4a4 4 0 0 1 4 4 4 4 0 0 1-4 4 4 4 0 0 1-4-4 4 4 0 0 1 4-4m0 10c4.42 0 8 1.79 8 4v2H4v-2c0-2.21 3.58-4 8-4"/></svg> </span> <nav> <a href=mailto:8493196+awwaawwa@users.noreply.github.com>awwaawwa</a> </nav> </span> </aside> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=ImplementationDetails/AsyncTranslate/AsyncTranslate/ class="md-footer__link md-footer__link--next" aria-label="Next: Async Translation API"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Async Translation API </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2025 funstory.ai </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/funstory-ai/BabelDOC target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://pypi.org/project/BabelDOC/ target=_blank rel=noopener title=pypi.org class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6M286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3M167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4m-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": ".", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.code.select", "content.tooltips", "navigation.footer", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=assets/javascripts/bundle.c8b220af.min.js></script> </body> </html>